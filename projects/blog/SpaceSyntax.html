<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title src = "/images/logo.svg">StableShape | Robin Song</title>

    <link rel="stylesheet" href="/css/style.css">
    <link rel="mouse-guide" href="/css/mouseani.css">
    <link rel="icon" type="image/svg+xml" href="/images/logo.svg">

    <!-- TailwindCSS 通过CDN引入 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome 图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        // 配置Tailwind主题 - 灰橙配色(亮色)和青色品红(暗色)
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            // 橙色系列(亮色模式主色)
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        },
                        dark: {
                            // 深色背景
                            100: '#121218',
                            200: '#1e1e2a',
                            300: '#2c2c3a',
                            400: '#3a3a4a',
                        },
                        magenta: {
                            // 品红色(暗色模式辅助色)
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            200: '#f5d0fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans SC', 'sans-serif'],
                    },
                    boxShadow: {
                        'card': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
                    },
                    transitionProperty: {
                        'height': 'height',
                        'spacing': 'margin, padding',
                    }
                }
            }
        }
    </script>
    <style>
        #fluidsim_canvas {
          width: 100%;
          height: 100%;
          touch-action: none;
        }
        #param_form {
          position: absolute;
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          font-size: small;
          bottom: 0;
          right: 0;
          padding: 1em;
          background-color: rgba(0, 0, 0, 0.5);
          color: white;
        }
        #param_form > div {
          display: none;
          align-items: center;
          gap: 0.5em;
        }
        #display_radio {
          border: 0;
          display: flex;
          gap: 1em;
        }
        a {
          color: white;
          margin: 0.5em auto;
          font-size: medium;
        }
      </style>

</head>
<body class="font-sans bg-gray-50 text-gray-800 dark:bg-dark-100 dark:text-gray-200 transition-colors duration-300">
    <!-- 导航栏 -->  
    <nav class="fixed top-0 z-50 w-full bg-white/10 backdrop-blur-sm dark:bg-dark-100/30">  
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">  
            <div class="flex justify-between h-16">  
                <!-- Logo & Site Name -->
                <div class="flex items-center">
                    <a href="/index.html" class="w-12 h-12 sm:w-16 sm:h-16 mr-2">  
                        <img src="/images/ViewCapture20250221_005142.png" alt="Logo" class="w-12 h-12 sm:w-16 sm:h-16">
                    </a>  
                    <a href="/index.html" class="px-2 sm:px-5 py-2 hover:text-primary-500 dark:hover:text-magenta-400 hidden sm:block">  
                        <span class="lang-en">Robin Song</span>  
                    </a>
                </div>  
                
                <!-- Mobile menu button -->
                <div class="flex md:hidden items-center">
                    <button id="mobileMenuBtn" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-300">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                
                <!-- Desktop Navigation - hidden on mobile -->
                <div class="hidden md:flex items-center space-x-4">  
                    <a href="/index.html" class="px-3 py-2 hover:text-primary-500 dark:hover:text-magenta-400">  
                        <span class="lang-en">Home</span>  
                    </a>  
                    <div class="relative group">
                        <a href="#projects" class="px-3 py-2 hover:text-primary-500 dark:hover:text-magenta-400">  
                            <span class="lang-en">Design</span>
                        </a>  
                        <div class="absolute hidden group-hover:block bg-white/90 dark:bg-dark-200/90 backdrop-blur-sm shadow-md py-2 min-w-[200px] top-full left-0 rounded-lg">  
                            <a href="/projects/design/probability.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">  
                                <span class="lang-en">Probability</span>  
                            </a>  
                            <a href="/projects/design/still.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">        
                                <span class="lang-en">Still</span>  
                            </a>  
                            <a href="/projects/design/yokai.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">  
                                <span class="lang-en">Yokai Hall</span>  
                            </a>  
                        </div>  
                    </div>
                    <div class="relative group">
                        <a href="#" class="px-3 py-2 hover:text-primary-500 dark:hover:text-magenta-400">  
                            <span class="lang-en">Code</span>  
                        </a>  
                        <div class="absolute hidden group-hover:block bg-white/90 dark:bg-dark-200/90 backdrop-blur-sm shadow-md py-2 min-w-[200px] top-full left-0 rounded-lg">  
                            <a href="/projects/code/StableShape.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">  
                                <span class="lang-en">StableShape</span>  
                            </a>  
                            <a href="/projects/code/Seg.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">  
                                <span class="lang-en">Seg & Predict</span>  
                            </a>  
                            <a href="/projects/code/BuildingGenerator.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">        
                                <span class="lang-en">Building Generator</span>  
                            </a>
                        </div>  
                    </div>  
                    <a href="/about.html" class="px-3 py-2 hover:text-primary-500 dark:hover:text-magenta-400">  
                        <span class="lang-en">About Me</span>  
                    </a>  
                    <div class="flex space-x-2 ml-1">
                        <a href="https://www.linkedin.com/in/qizhen-song-b30993341/" target="_blank" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400 transition-colors duration-200">  
                            <i class="fab fa-linkedin text-xl"></i>  
                        </a>  
                        <a href="https://github.com/Robin-Song-Design" target="_blank" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400 transition-colors duration-200">  
                            <i class="fab fa-github text-xl"></i>  
                        </a>
                        <a href="javascript:void(0)" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400 transition-colors duration-200" id="wechatIcon">  
                            <i class="fab fa-weixin text-xl"></i>  
                        </a>
                    </div> 
                    <button id="themeToggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-300 transition-colors duration-200">  
                        <i class="fas fa-sun text-gray-600 dark:text-gray-300 dark:hidden"></i>  
                        <i class="fas fa-moon text-gray-300 hidden dark:block"></i>  
                    </button>  
                </div>  
            </div>
            
            <!-- Mobile menu - hidden by default -->
            <div id="mobileMenu" class="hidden md:hidden bg-white dark:bg-dark-200 mt-2 rounded-lg shadow-lg overflow-hidden">
                <div class="py-2">
                    <a href="/index.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">
                        <span class="lang-en">Home</span>
                    </a>
                    
                    <!-- Mobile Design dropdown -->
                    <div id="mobileDesignDropdown" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="lang-en">Design</span>
                            </div>
                            <i class="fas fa-chevron-down text-sm"></i>
                        </div>
                    </div>
                    
                    <!-- Mobile Design menu items -->
                    <div id="mobileDesignMenu" class="hidden bg-gray-50 dark:bg-dark-300">
                        <a href="/projects/design/probability.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">Probability</span>
                        </a>
                        <a href="/projects/design/still.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">Still</span>
                        </a>
                        <a href="/projects/design/yokai.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">Yokai Hall</span>
                        </a>
                    </div>
                    
                    <!-- Mobile Code dropdown -->
                    <div id="mobileCodeDropdown" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="lang-en">Code</span>
                            </div>
                            <i class="fas fa-chevron-down text-sm"></i>
                        </div>
                    </div>
                    
                    <!-- Mobile Code menu items -->
                    <div id="mobileCodeMenu" class="hidden bg-gray-50 dark:bg-dark-300">
                        <a href="/projects/code/StableShape.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">StableShape</span>
                        </a>
                        <a href="/projects/code/Seg.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">Seg & Predict</span>
                        </a>
                        <a href="/projects/code/BuildingGenerator.html" class="block px-6 py-2 hover:bg-gray-100 dark:hover:bg-dark-400">
                            <span class="lang-en">Building Generator</span>
                        </a>
                    </div>
                    
                    <a href="/about.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-300">
                        <span class="lang-en">About Me</span>
                    </a>
                    
                    <div class="border-t border-gray-100 dark:border-dark-400 my-2"></div>
                    
                    <!-- Social links in mobile menu -->
                    <div class="flex justify-center space-x-6 py-2">
                        <a href="https://www.linkedin.com/in/qizhen-song-b30993341/" target="_blank" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400">
                            <i class="fab fa-linkedin text-xl"></i>
                        </a>
                        <a href="https://github.com/Robin-Song-Design" target="_blank" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400">
                            <i class="fab fa-github text-xl"></i>
                        </a>
                        <a href="javascript:void(0)" id="mobileWechatIcon" class="text-gray-600 hover:text-primary-500 dark:text-gray-400 dark:hover:text-magenta-400">
                            <i class="fab fa-weixin text-xl"></i>
                        </a>
                    </div>
                    
                    <div class="border-t border-gray-100 dark:border-dark-400 my-2"></div>
                    
                    <!-- Language & Theme toggles in mobile menu -->
                    <div class="flex px-4 py-2 justify-around">
                        <button id="mobileThemeToggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-300">
                            <i class="fas fa-sun dark:hidden"></i>
                            <i class="fas fa-moon hidden dark:block"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>  
    </nav>

    <!-- 项目内容 -->
    <main class="pt-0">
        <!-- 项目标题区 -->
        
        <h1>空间句法：智能体和空间</h1>
<p>空间句法(Space Syntax)是由比尔·希利尔(Bill Hillier)和朱丽安·汉森(Julienne Hanson)在20世纪70年代末开发的一种基于图论的空间分析方法。这种方法提供了量化分析空间结构的框架，使设计师能够客观评估空间配置对人类行为的潜在影响。</p>
<p>根据上一篇形式系统的内容，空间句法实质上也是一种<strong>对空间和社会行为的数学建模</strong>，是一种形式系统。用<strong>“空间的规则”<strong>形容会更为合适，叫做</strong>句法“Syntax”</strong>可能是因为Bill爷爷是语言学出身。</p>
<h2>空间句法的前提条件</h2>
<p>![image-20250510232933940](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250510232933940.png)</p>
<p>Bill和汉Julienne对法国南部聚落进行的研究展示了集体设计的模式</p>
<p>他们发现看似随机的空间组织实际上存在着"珠状环"(beady ring)结构</p>
<p>![image-20250510232943994](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250510232943994.png)</p>
<p>他们认为这种结构是通过简单规则的随机聚合自然形成的</p>
<h4>于是他们认为是人对空间的使用影响和造就了空间</h4>
<p>他们给空间句法设置了一个前提条件：</p>
<h4>“空间不是社会经济活动的背景，而是社会经济活动开展的一部分”</h4>
<p>说人话就是，<strong>空间并不是在人行为之前产生的，而是人的行为影响并成就了空间</strong>。</p>
<p>因此，对于当前这个<strong>静态的空间</strong>，也就是<strong>人社会经济行为的结果</strong>，我们可以用一套形式系统去描述它。</p>
<p>也就可以转化为<strong>图论Graph</strong>进行<strong>静态分析</strong>，并使用<strong>智能体模拟</strong>进行<strong>动态</strong>验证。</p>
<p>——这也是笔者认为空间句法技术方法部分的核心内容。</p>
<p>![image-20250510232953847](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250510232953847.png)</p>
<p>![image-20250512131014984](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512131014984.png)</p>
<p>将阶段段作为图的节点，而街道的交叉作为边。</p>
<h2>静态分析的基础指标：描述空间特性</h2>
<p>要使用图论来描述空间特性，首先要将具象的空间转化为抽象的形式。抽象的几何形式可以被分析为图网络，描述这些几何节点之间的相对连通性和整合性。目前有三个基本的空间形式：</p>
<ul>
<li><strong>等视多边形</strong>（由德克萨斯大学的Michael Benedikt推广），或称视域多边形或可见性多边形，即从<strong>任何特定点看到的视野</strong></li>
<li><strong>轴空间</strong>（由伦敦大学学院的 Bill Hillier 推广的概念），一条直线视线和可能的路径</li>
<li><strong>凸空间</strong>（由 John Peponis 及其在佐治亚理工学院的合作者推广），一个可占据的空间，如果将其想象成一个线框图，则其两点之间的任何线都不会超出其周长：多边形内的所有点对多边形内的所有其他点都是可见的。</li>
</ul>
<p>分析空间网络最流行的三种方法是整合度、选择值和深度值。</p>
<h3>1. 整合度(Integration)</h3>
<ul>
<li>
<p><strong>定义：</strong>衡量某空间与整体系统的联系紧密程度</p>
</li>
<li>
<p><strong>公式</strong>：<br>
$$<br>
\text{Integration}(i) = \frac{n-1}{\sum_j d(i,j)}<br>
$$<br>
其中：</p>
<ul>
<li><em>n</em> 是系统中的空间总数</li>
<li><em>d</em>(<em>i</em>,<em>j</em>) 是从空间 <em>i</em> 到空间 <em>j</em> 的最小步数,即深度值</li>
<li>∑<em>d</em>(<em>i</em>,<em>j</em>) 是从空间 <em>i</em> 到所有其他空间的深度总和</li>
</ul>
<p>我们再来看<strong>MD平均深度(Mean Depth)<strong>的公式：<br>
$$<br>
MD(i) = \frac{\sum_j d(i,j)}{n-1}<br>
$$<br>
可以发现整合度和平均深度值是</strong>互为倒数</strong>的关系。</p>
<p>也就是说，</p>
<p><strong>整合度高的空间，可达性越高。</strong></p>
<p><strong>整合度衡量了一个空间吸引交通到达的潜力。</strong></p>
</li>
</ul>
<h3>2. 选择值(Choice)</h3>
<p>空间句法的选择度的概念是在不断被更新的，在后续理论中，选择值考虑了转弯半径成本。</p>
<ul>
<li>
<p><strong>定义：</strong>衡量某空间成为路径选择的可能性</p>
</li>
<li>
<p>基本选择值公式：<br>
$$<br>
\text{Choice}(i) = \sum_j \sum_k \frac{\sigma_{jk}(i)}{\sigma_{jk}}<br>
$$<br>
<em>σjk</em> 是从 <em>j</em> 到 <em>k</em> 的最短路径总数</p>
<p>σ<em>jk(i)</em> 是从 <em>j</em> 到 <em>k</em> <strong>且经过 <em>i</em></strong> 的最短路径数</p>
</li>
<li>
<p>角度加权选择值：</p>
</li>
<li>
<p>$$<br>
\text{Angle Weighted Choice}(i) = \sum_j \sum_k \frac{\sigma_{jk}^{\theta}(i)}{\sigma_{jk}^{\theta}}<br>
$$</p>
<p><em>σ<strong>jk</strong>θ</em>考虑角度θ的加权。</p>
</li>
</ul>
<h3>3. 深度值(Depth)</h3>
<ul>
<li>
<p><strong>定义：</strong>从一个空间到另一个空间所需的最小拓扑步数</p>
<h4><strong>MD平均深度(Mean Depth)</strong></h4>
</li>
<li>
<p><strong>定义：</strong>从一个空间到其他所有空间所需的最小拓扑步数的平均值</p>
</li>
<li>
<p>$$<br>
MD(i) = \frac{\sum_j d(i,j)}{n-1}<br>
$$</p>
<p>与整合度互为倒数关系。</p>
</li>
</ul>
<h2>图的静态分析揭示的文化与空间关系</h2>
<h3>整合度（Integration）</h3>
<p>![image-20250510233001737](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250510233001737.png)</p>
<p>如果我们观察诺曼底Normandy的一座农舍，我们会发现公共厅是内部空间中最具整合性的。我们还发现它位于所有环形通道上，如果将其移除，整个布局实际上就变成了一系列单一的空间序列。在有"公共厅"的法国房屋中，情况并非总是如此。有时过渡空间——比如门厅或走廊——是最具整合性的空间，<strong>在这种情况下，公共厅就失去了其主导的空间角色</strong>。研究表明，这可能与性别角色有关。</p>
<p>![image-20250510233007126](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250510233007126.png)</p>
<p><strong>伦敦的整合性地图。</strong>图中使用轴线来表示街道段，可以看出人流量和车流量和街道整合度是线性相关的。</p>
<p>![image-20250511132749202](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511132749202.png)</p>
<p>不同文化背景的城市尽管看起来不同，但都通过空间配置影响人们的聚集和互动方式，形成特定的社会生活模式。</p>
<h3>选择值（Choice）</h3>
<p>![image-20250511133938199](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511133938199.png)</p>
<p><strong>图为伦敦的选择度地图</strong>，可以看出红色段是几条主要的交通要道，它们的选择值最高。</p>
<h3>观察尺度（scale of observation）</h3>
<p>![image-20250511161232065](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511161232065.png)</p>
<p>在实际的城市研究当中，选择研究尺度十分重要。这主要影响半径范围内的节点（街道段）的数量。图上对比了选择了不同的研究半径，图面所呈现的不同结果。</p>
<p>![image-20250511161533801](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511161533801.png)</p>
<p>![image-20250511161542738](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511161542738.png)</p>
<p>如图展示的是北京路网轴线的空间句法分析，不同的尺度下：</p>
<p>10km 研究半径对应于大区域尺度的活动模式，比如车行路线，更精准体现车流量。</p>
<p>500m的研究半径对应小区域尺度的活动模式，比如步行，更精准体现人流量。</p>
<h2><strong>空间位置与社交关系</strong>：</h2>
<p>下图首先展示了物理空间布局如何直接影响员工间的沟通和创新。</p>
<p>左上图显示人员实际移动路径，右上图展示空间的轴线分析</p>
<p>图表下方数据显示"被看见的频率"与"被感受到的有用程度"之间存在明显相关性（R² = 0.565）</p>
<p>![image-20250511201741887](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511201741887.png)</p>
<p>这是基于空间分析和人的主观调查所对比得出的结果，说明<strong>物理空间位置会影响人在社交网络中的地位</strong>。（这里的社交网络指的是抽象的网络，以人为节点，人与人的关系为连接。）</p>
<p>位于空间交汇处的人自然会与更多人接触，增加他们在组织中的影响力，这种影响力转化为他们被同事或上司认为的<strong>“有用性”Usefulness</strong>。</p>
<p>![image-20250511202553991](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511202553991.png)</p>
<p>![image-20250511203438211](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511203438211.png)</p>
<p>研究还发现，这种被感知有用性不仅体现在面对面交流中，也延伸到电话等通信网络，也就是说空间位置良好的人往往也在电话和网络通信中处于核心位置。</p>
<p>传统的观点认为，社会关系只取决于你是谁Who you are，可能基于身份、地位等等。</p>
<p>而空间句法提出的新视角认为，空间的（Spatial）网络定义了“你在哪”Where you are，超空间的（Transpatial）网络，即社交关系网络、数字通讯网络，定义了“你是谁”Who you are。它们是互相关联的，<strong>空间是一个统一的框架</strong>。<strong>“你在哪里” 可能比"你是谁"更重要</strong></p>
<p>社交关系网络是由空间网络中涌现的，空间可能决定了社会网络的形成和再生产reproduction</p>
<h4>这么说可能还是非常晦涩，以小学生教室举一个例子：</h4>
<p>一个刚分班的班级，座位靠近主要过道的同学可能会被更多地看到（空间整合度高），于是他更容易与其他同学碰面、聊天，所以在不考虑其他条件的情况下，更有可能让他们在班级的社交关系网络中更受欢迎，微信聊天可能更加频繁，朋友圈互动更多，进一步塑造了他们之间的关系网（社交关系网络再生产）。</p>
<p>当然这是一个非常简化的模型，不考虑任何其他因素。实际上，特殊的才能，或者说长得更好看，更会聊天，对社交关系的影响可能都会远远大过于空间的影响。</p>
<p>这也是空间句法被批评最为核心的一个点之一——<strong>对人行为模式的建模过于简单</strong>。</p>
<p>但是这个杂糅了社会学、建筑学、数学的理论，仍然迈出了一个重要而伟大的尝试，就是对与人类社会经济活动息息相关的空间，进行形式化建模，并给出了一套指导性的标准，使其能够被量化和计算。</p>
<p>在更大范围的城市活动中，人的行为模式会更加复杂多变，但万变不离其宗，复杂系统往往有其简单的规律，而此时简单抽象的建模，或许反而可以排沙简金、去伪存真。</p>
<h2>智能体模拟 Agents</h2>
<p>在静态分析完之后，空间句法还集成了一套动态模拟验证分析的方法，就是智能体模拟。</p>
<p>Agent这个起源于拉丁语中的Agere，意为“to do”。现在很火的LLM Agent，可以理解为某种能自主理解、规划决策、执行复杂任务的智能体。也翻译为代理，意为代理人类做某事。</p>
<p>空间句法中的Agent，也就是代理真实人类，模拟人类在空间中执行一些简单行为的智能体。</p>
<p>智能体的发展要从几个重要的理论开始讲：</p>
<h3>外驱视觉架构Exosomatic Visual Architecture</h3>
<p>这个理论来自<strong>Alasdair Turner</strong>提出的一个创新理论，解释了人类如何在空间中 “自然地” <strong>感知和移动</strong>。</p>
<p>它的核心理念来自于<strong>Gibson</strong>1979年的生态视觉感知理论，当没有外部条件影响时</p>
<p>![image-20250511222444662](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511222444662.png)</p>
<p>人类会环顾四周，走进有趣的事物，围绕着物体走动并从各个角度观察，并从一个视角不停切换到另一个视角。</p>
<p>于是Turner用一个简单的算法来表示这种自然视觉行为：</p>
<div><!--beforebegin--><div class="v-md-pre-wrapper copy-code-mode v-md-pre-wrapper- extra-class" extra-attr=""><!--afterbegin--><pre class="v-md-prism-"><code>随机选择方向：
	在面前170°视野范围内选择
	根据每个方向的视线长度加权选择
将智能体(Agent)转向该方向
向前移动3步
重复上述过程
</code></pre>

    <button class="v-md-copy-code-btn" type="button">
      <i>
        <svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true">
          <path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path>
        </svg>
      </i>
    </button><!--beforeend--></div><!--afterend--></div><p>![image-20250511222501828](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511222501828.png)</p>
<p>![image-20250511222517774](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511222517774.png)</p>
<p>这个EVA模型的主要目的就是使用智能体的简单移动，模拟人在空间中自然移动的过程。输出的模拟路径结果，<strong>收敛到稳定状态时可以反应空间的统计学中心性，即对整合度的验证。</strong></p>
<h3>什么时候达到稳定状态</h3>
<p>虽然是动态的模拟，但是总有一个时刻，系统会存在一个相对稳定的状态，那么如何得知智能体在空间中行为系统何时到达稳态呢？</p>
<h4>稳态的数学模型：马尔可夫链</h4>
<p>假设这里有四个城镇：A、B、C、D</p>
<p>初始状态下，有24个人从城镇A出发，以<strong>相同的概率e</strong>移动到其他的城镇。</p>
<p>![image-20250511223557894](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511223557894.png)</p>
<p>对于每一个状态，都可以用当前状态每个城镇的人数乘上一个转移矩阵来得到下一个状态，</p>
<p>这个转移矩阵是<strong>由空间结构所决定的</strong>，所以<strong>保持不变</strong>。那么下一个状态的人数就只与当前状态各城镇的人数有关，这就是一个<strong>马尔可夫链</strong>。比如下图中，右侧向量表示初始状态城镇A有24人，其余为0；左侧矩阵表示就是整体的状态转移的概率。每一列代表起始城镇，每一行代表目标城镇，比如第一列代表A向ABCD转移的概率。乘上转移矩阵之后，12人转移到了城镇B，另外12人转移到了城镇C。</p>
<p>![image-20250511230338420](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511230338420.png)</p>
<p>我们可以计算出每个城镇拥有的边的数量，来计算出该城镇的最终人口。</p>
<p>![image-20250511230842829](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250511230842829.png)</p>
<ul>
<li>A城镇：2/8 * 24 = 6人</li>
<li>B城镇：2/8 * 24 = 6人</li>
<li>C城镇：3/8 * 24 = 9人</li>
<li>D城镇：1/8 * 24 = 3人</li>
</ul>
<p>此时我们发现，该状态下各小镇的人数，再去乘转移矩阵，仍然保持不变。</p>
<p>这说明这个状态的各小镇的人数是稳定的状态。而小镇人数所构成的(6,6,9,3)这个向量就是该矩阵的<strong>特征向量eigenvector</strong>。（德语中eigen意为相同的，表示这个向量乘某矩阵保持不变）</p>
<p>到达稳定状态并不是说所有人都停止运动了，而是从这个状态开始，从某个城镇转出的人等于转入的人，是一种动态的稳定。</p>
<h3>Through Vision</h3>
<p>还是Alasdair Turner，他基于原本的Exosomatic Visual Architecture，进一步希望通过一种智能体计算方式，来更精确地表达空间<strong>可视性图</strong>。</p>
<p>可视性图（Visibility Graph Analysis，简称VGA）是一种用于空间分析的图形模型，广泛应用于空间句法，用来刻画空间中哪些位置<strong>相互可见</strong>，从而分析空间的<strong>通视性和可达性</strong>。</p>
<p>具体来说：</p>
<ul>
<li>可视性图将空间划分为许多离散的点（通常是以网格像素形式表示的“像素”或空间单元）。</li>
<li>在图中，两个节点（点）之间如果可以直接相互看见（无障碍物阻挡视线），就用一条边将它们连接起来。</li>
</ul>
<p>![image-20250512000407030](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512000407030.png)</p>
<h5>但是原本的模型仍然有局限性：</h5>
<ul>
<li>智能体的方向决定了它如何感知空间</li>
<li>步长限制了它可以移动的距离</li>
</ul>
<h5>于是他考虑了一种新的智能体：</h5>
<ul>
<li>拥有360°无死角视野</li>
<li>拥有无限的步数直到它达到它的目标</li>
</ul>
<h5>计算每个像素被穿越的次数，这就能呈现一个类似热力图的可视性图。</h5>
<p>![image-20250512000422226](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512000422226.png)</p>
<h3>随机行走random walks</h3>
<p>一种最简模型，对之前模型的数学本质的提炼。</p>
<h4>前置理论的回顾（可以直接拉到后面看结论）：</h4>
<h4>Continuity Lines / Directional Reach / Natural Streets</h4>
<ul>
<li><strong>Continuity Lines</strong> 是展现城市道路连贯性的一种方式，强调路径中方向转变的连续性，比如街道拐角的角度阈值决定路径的“连通性”。</li>
<li><strong>Directional Reach</strong> 衡量的是在一定转向角度阈值限制下，某道路段能够直达的其他道路段数量，是一种反映视线和路径尽量少转向情况下的空间可达性的指标。</li>
<li><strong>Natural Streets</strong> 概念基于人们对街道连续性的自然认知，将空间中多个街段基于连贯的街道名或方向连接起来，模拟真实的认知路径结构。</li>
</ul>
<p>这些指标和方法主要从街道连贯性、角度阈值和路径自然性角度，试图抓取空间的几何与认知规则，反映空间结构对移动的影响。</p>
<p>![image-20250512004526756](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004526756.png)</p>
<p>![image-20250512004540907](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004540907.png)</p>
<hr>
<h4>2. Angular Choice (Betweenness Centrality)</h4>
<ul>
<li><strong>Angular Choice</strong> 是一种基于角度转变成本的路径选择指标，属于空间句法中“选择性指标（Choice）”的一部分，类似于图论中的<strong>Betweenness Centrality</strong>。</li>
<li>它度量空间网络中路径被选中经历的概率，即路径上不同节点和边的重要性，权衡路径的转向角度成本，并反映人们对路径转角敏感度。</li>
<li>实际中这帮助解释人类路径选择倾向于尽量减少转角（角度优化）以简化导航。</li>
</ul>
<p>![image-20250512004555725](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004555725.png)</p>
<hr>
<h4>3. Topology or Geometry</h4>
<ul>
<li>讨论的核心是路径选择和空间行为是否更受<strong>拓扑结构（空间连接关系）<strong>还是</strong>几何性质（距离、角度）</strong>驱动。</li>
<li>空间句法研究指出，尽管几何信息重要，路径的选择性和活动成本更多由拓扑结构和角度转变的拓扑关系决定，而非几何距离本身。</li>
<li><strong>这种观点支持用图论和网络拓扑分析为基础构建空间行为模型。</strong></li>
</ul>
<p>![image-20250512004637577](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004637577.png)</p>
<hr>
<h4>4. Mathematics and Graph Theory</h4>
<ul>
<li>既然已经将空间建模成图网络，利用数学及图论来表征和分析空间网络结构，包括方法如<strong>转移矩阵</strong>、<strong>特征向量</strong>、<strong>随机游走Random Walk中心性</strong>等，用以模拟空间中代理人的移动和感知.</li>
<li>随机游走模型即基于转移矩阵的概率模型，通过状态迭代模拟代理人随机或权重导向下的移动。</li>
</ul>
<p>![image-20250512004723731](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004723731.png)</p>
<hr>
<h4>5. Pattern or Cognition?</h4>
<ul>
<li>讨论行为模式是源于<strong>空间环境结构“外部”规律</strong>，还是来自个体<strong>认知和记忆</strong>的内部决策。</li>
<li>研究表明，路径选择在很大程度上可以由空间结构（视觉线索、角度等）驱动，个体往往依赖局部视觉和路径结构而非全局认知地图。</li>
<li><strong>这为简化智能体模型（无记忆、不优化全局路线的随机游走）提供支持</strong>。</li>
</ul>
<p>![image-20250512004814212](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004814212.png)</p>
<hr>
<h4>6. Optimising the Route, or Reading Local Cues?</h4>
<ul>
<li>这是关于智能体行为假设的关键问题：人们是否<strong>主动优化路线</strong>，即基于全局地图知识寻找最优路径，还是<strong>依赖局部视觉及机会启发式</strong>即“局部线路线索”来引导行动？</li>
<li>研究通过智能体模型表明，即使没有全局记忆和优化策略，基于局部角度选择和转向权重的简单随机游走（或角度选择）也能很好地模拟和预测实际路径选择和流动模式。</li>
<li><strong>因此，行为更接近通过局部线索不断决策的过程，而非严格全局优化。</strong></li>
</ul>
<p>![image-20250512004834661](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512004834661.png)</p>
<p><strong>Random walk</strong>是对人空间行为建模的最简模型，它源自于图论中的一种重要同名概念random walk，在网络科学相关领域已经有广泛应用，也曾经被用于城市移动研究中（Blanchard和Volchenkov，2009；Newman，2005）</p>
<p>![image-20250512210507386](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512210507386-1747086766025-1.png)</p>
<h3><strong>拒绝废话、直接上结论：</strong></h3>
<p>既然空间可以被抽象为图，那就可以用图的数学方法计算。前人所研究的对人自然行走的建模EVA，本质上是“无记忆、无目标的”；而且前人认为人自然寻路这件事，他们并不是天生能把地图印在脑子里去寻找最优路线，而是基于当下环境、当下时间的判断，这是个马尔可夫过程。那么也就可以与图论里的random walk概念所对应上。于是这个模拟过程可以被抽象简化为其数学本质——智能体的行为是一种基于图的马尔可夫过程，可以通过一个转移矩阵描述其在各个节点的转移概率。</p>
<p><strong>简单来说：把一套复杂的模拟过程，直接提炼其数学本质，变成矩阵运算，从而大大缩短了模拟的时间。</strong></p>
<h3>Random Walk模型概率推导过程</h3>
<p>![image-20250512234848512](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512234848512.png)</p>
<h4>1、前提条件：所有路径的成本相同</h4>
<p>图片画了两组路段路径示意，第一组（上）是连续向右的三个直线路径，第二组（下）是先向右再向下的两段路径。这里“成本函数（cost function）”概念指路径的“代价”——类似路径“耗费”的某个度量。不论是通过三个短直线按顺序前进，还是通过两段路径先右再下，总成本是一样的。这意味着对于“直线段的总数”作为成本的评估角度，两种路径没有差别。</p>
<p>这点很重要，因为它导致后面如何定义“转向成本 和转向概率”的问题，会基于这种“等价总成本”的假设。</p>
<p>![image-20250512235036919](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512235036919.png)</p>
<h4>2、那么等价路径的区别是什么？</h4>
<p>图中两个路径的智能体数量按概率分配进行了变化，路径上分布了智能体的相对数量。</p>
<p>上图路径长（3步），通过多次转向，最终每步代理人数减半（0.5，0.5，0.5），最后剩1/8。</p>
<p>下图路径短（2步），代理人则只减半两次（0.5，0.5），最后剩1/4。</p>
<p><strong>作为成本函数，两种路径的总成本是一样的。但是，作为“转向概率”时，什么情况是等价的？</strong></p>
<ul>
<li>
<p>每一步转向都会导致智能体减少，相当于一种成本。</p>
</li>
<li>
<p>相同距离的路径中，线段更长的路径更优先（更直接），即更受喜欢。</p>
<p><strong>那么，针对转向的加权，怎样才算合理，如何设置？</strong></p>
</li>
</ul>
<h4>3. 角度的定性表示</h4>
<p>![image-20250512235701968](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512235701968.png)</p>
<p>这一张显示了从宽角到锐角的转向角度线性划分为若干“角度区间”（angular bins），针对每个区间统计了转向的“可能性”或概率分布。引用了Frith 2017年等的研究，这种图形是对角度分箱模型分辨率的测试。目的是为了<strong>量化转向角度如何影响路径选择</strong>，验证<strong>不同角度区间对应的概率权重</strong>如何调整更符合人类行走习惯，为后续<strong>函数定义</strong>提供基础。</p>
<h4>4.不同角度的转向概率</h4>
<p>![image-20250512235842510](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250512235842510.png)</p>
<p>这一页演示了五个箭头表示转向角度的示意图，成功地证明了随着一个角度函数被提升到不同幂次（1次方、2次方、3次方……5次方），转向概率呈非线性显著下降的现象。比如转向角越大，概率急剧减小。</p>
<p>这说明线性函数转向概率不足以解释人类偏好，非线性（如角度的4次方、5次方）更贴近经验。</p>
<p>有三点结论：</p>
<ul>
<li>选择哪种函数更合适？是经验问题，需要实测。</li>
<li>视觉受限于相邻的路段，且直路上视觉范围会更远。</li>
<li>最优转向权重函数需要通过实验数据验证。</li>
</ul>
<h4>5.基于EVAS代理人视觉推测角度函数</h4>
<p>![image-20250513000215984](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513000215984.png)</p>
<p>图片给出了角度θ的几何示意：假设代理人在路口，根据视野宽度（w）和距离（L）判断不同行走方向的可见距离和面积。</p>
<p>右边曲线图分别展示了<strong>“累计面积”<strong>和</strong>“累计距离</strong>”如何随着转向角度θ的变化而变化。</p>
<p>可以假设<strong>转向概率函数是代理人视野识别的函数</strong>，也就是，一个代理人更可能走向“看到更多空间”的方向。</p>
<p>这里将代理人的可见性（视觉信息）和导航决策函数联系起来，将视觉感知转化为数学函数。</p>
<h4>6. 180度转向的高概率情况</h4>
<p>![image-20250513000546347](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513000546347.png)</p>
<p>示意图显示某路线上的智能体在一个节点选择转向概率时，发现其同样可能概率高地“掉头”或转180度。即每一步转向的概率<strong>往往不会忽略掉头选项</strong>，有时掉头甚至比其他角度转向概率更大。</p>
<p>这反映了无记忆、完全基于当前节点角度选择的随机游走特性，会出现一些不合人类路径习惯的现象。</p>
<p>这一问题需后续通过节点<strong>“方向”或“朝向”</strong>状态扩展解决。</p>
<h4>7. 转化为正反两套有向图来限制方向</h4>
<p>![image-20250513000743492](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513000743492.png)</p>
<p>为避免掉头现象和确保方向性，设计了<strong>“每个路段对应两个节点”，分别表示两个方向的行进状态。</strong>路段间只能从当前方向对应节点转向前或略偏转的节点，避免直接转回。</p>
<p>由此形成了“有向图（directed graph）”，即路径的边方向不可逆。</p>
<p>这样做虽然节点数翻倍，但可以在保证不增加太多计算负担的情况下，解决随机游走模型“掉头、逆向”等不现实行为。是random walk模型合理化中非常重要的一步。</p>
<h3>Random Walk的计算结果</h3>
<p>![image-20250513001618546](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513001618546.png)</p>
<p><strong>左图</strong>：Barnsbury及周边区域的“选择半径（choice radius）”计算图，颜色从深蓝（最低）到红色（最高）表示街区选择概率的对数尺度值，展示了街道的结构性选择特征。</p>
<p><strong>右图</strong>：左图中心区域真实的行人流动数据，颜色线性标度，展示了实际行人活动强弱分布。</p>
<p>![image-20250513001745557](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513001745557.png)</p>
<p>Random Walk模型在<strong>不同时刻迭代</strong>的效果图，分别是第5次、第18次和第100次迭代，展示智能体分布如何随着迭代收敛趋稳。</p>
<p>随着时间延续，Random Walk分布逐渐稳定下来，空间分布<strong>越来越接近</strong>实际行人流动的空间分布特征。</p>
<p>![image-20250513001837017](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513001837017.png)</p>
<p><strong>左图</strong>为不同转向角度幂次（如二次，四次）Random Walk迭代与实际行人运动的相关系数曲线，随着迭代次数增多，相关性趋于稳定。</p>
<p><strong>右图</strong>为最终稳定的随机游走状态图，显示行人分布预测的空间特征。</p>
<p>![image-20250513001940215](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513001940215.png)</p>
<p>不同区域（Barnsbury、Clerkenwell、Kensington等）和不同交通方式（行人、车辆）下，实际交通流与<strong>选择值，平均深度</strong>和“<strong>Random Walk</strong>”等各指标的相关系数表格。</p>
<p>可以看到Random Walk模型的预测相关系数较高，<strong>说明其能有效逼近实际交通行为</strong></p>
<p>![image-20250513002124570](./空间句法：代理和空间 (Space Syntax Agents and Space).assets/image-20250513002124570.png)</p>
<p><strong>左侧</strong>是伦敦街道<strong>加权Random Walk</strong>模拟交通分布图，色彩突出不同交通密度。</p>
<p><strong>右侧</strong>是不同区域<strong>车流量与Random Walk</strong>模拟结果的相关关系图，在不同尺度下相关系数高且趋于平稳，说明模型在多尺度下有效。</p>
<p>这些都说明Random Walk计算出的结果在大尺度（城市）上的有效性。</p>
<h2>参考文献</h2>
<ol>
<li>Hanna S (2021) Random walks in urban graphs: A minimal model of movement, <em>Environment and Planning B: Urban Analytics and City Science</em>, 48(6), pp.1697–1711. doi:10.1177/2399808320946766.</li>
<li>Hanna S (2022) Route Choice from Local Information: Comparing Theories of Movement and Intelligibility. In: Van Nes A and de Koning RE (eds.) <em>Proceedings of the 13th Space Syntax Symposium</em>, Bergen, Norway, pp. 377:1–22.</li>
<li>Hillier B (1996) <em>Space is the Machine</em>. Cambridge University Press.</li>
<li>Hillier B, Burdett R, Peponis J and Penn A (1987) Creating life, or, does architecture determine anything? <em>Architecture and Behavior/Architecture et Comportement</em>, 3, pp. 233–250.</li>
<li>Hillier B and Iida S (2005) Network and psychological effects in urban movement. In: Cohn AG and Mark DM (eds.) <em>Proceedings of Spatial Information Theory</em>, Ellicottville, NY, USA, 14–18 September 2005, pp. 475–490. Berlin: Springer.</li>
<li>Turner A (2007) The ingredients of an exosomatic cognitive map: isovists, agents and axial lines? In: Hölscher, C., Conroy Dalton, R. and Turner, A. (eds.) <em>Space Syntax and Spatial Cognition: Proceedings of the Workshop held in Bremen, 24th September 2006</em>, pp. 163–180. Universität Bremen.</li>
<li>Turner A (2009) The role of angularity in route choice: An analysis of motorcycle courier GPS traces. In: COSIT’09 <em>Proceedings of the 9th International Conference on Spatial Information Theory</em>, Aber Wrac’h, France, pp. 489–504. Berlin: Springer.</li>
<li>Turner A and Penn A (2002) Encoding natural movement as an agent-based system: An investigation into human pedestrian behaviour in the built environment. <em>Environment and Planning B: Planning and Design</em> 29(4), pp. 473–490.</li>
<li>Zhang L, Chiradia A and Zhuang Y (2013) In The Intelligibility Maze of Space Syntax: a Space Syntax Analysis of Toy Models, Mazes and Labyrinths. In: Kim YO, Park HT and Seo KW (eds.) <em>Proceedings of the Ninth International Space Syntax Symposium</em>, Seoul.</li>
<li>Penn A (2003) Space syntax and spatial cognition or why the axial line? <em>Environment and Behavior</em>, 35(1), pp. 30–65.</li>
<li>Serra M and Hillier B (2019) Angular and metric distance in road network analysis: A nationwide correlation study. <em>Computers, Environment and Urban Systems</em> 74, pp. 194–207.</li>
<li>Turner A, Doxa M, O’Sullivan D and Penn A (2001) From isovists to visibility graphs: a methodology for the analysis of architectural space. <em>Environment and Planning B: Planning and Design</em> 28(1), pp. 103–121.</li>
<li>Benedikt ML (1979) To take hold of space: Isovists and isovist fields. <em>Environment and Planning B: Planning and Design</em>, 6, pp. 47–65.</li>
<li>Gibson JJ (1979) <em>The Ecological Approach to Visual Perception</em>. Boston: Houghton Mifflin.</li>
<li>Penn A, Hillier B, Banister D, et al. (1998) Configurational modelling of urban movement networks. <em>Environment and Planning B: Planning and Design</em> 25, pp. 59–84.</li>
<li>Omer I and Jiang B (2015) Can cognitive inferences be made from aggregate traffic flow data? <em>Computers, Environment and Urban Systems</em> 54, pp. 219–229.</li>
<li>Page L, Brin S, Motwani R, et al. (1999) The PageRank citation ranking: Bringing order to the Web. Technical Report, Stanford InfoLab, USA.</li>
<li>Sadalla EK and Montello DR (1989) Remembering changes in direction. <em>Environment and Behavior</em> 21(3), pp. 346–363.</li>
<li>Fraser M (2017) Using qualitative distance metrics in space syntax and configurational analyses. In: <em>Proceedings of the 11th Annual Space Syntax Symposium</em>, Lisbon, Portugal, pp. 161.01–161.15.</li>
<li>Blanchard P and Volchenkov D (2009) <em>Mathematical Analysis of Urban Spatial Networks</em>. Berlin: Springer-Verlag.</li>
<li>Sean Hanna (2024) Lecture 4: Sapce Syntax and Agents, BARC0030: Computational Analysis 24/25, MSC Architectural Computation, University College London</li>
</ol>

    </main>



    <!-- 微信二维码弹窗 -->
    <div id="wechatModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white dark:bg-dark-200 rounded-lg shadow-xl p-6 max-w-sm mx-auto text-center transform transition-all">
            
            <div class="mb-4">
                <img src="/images/weixin.jpg" alt="WeChat QR Code" class="w-48 h-64 mx-auto">
            </div>
            <button id="closeModal" class="px-4 py-2 bg-primary-500 dark:bg-magenta-500 text-white rounded hover:bg-primary-600 dark:hover:bg-magenta-600 transition-colors">
                <span class="lang-en">Close</span>
            </button>
        </div>
    </div>


    <!-- 页脚 -->
    <footer class="bg-white dark:bg-dark-200 shadow-inner mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div>
                        <p class="text-gray-600 dark:text-gray-400">© 2025 Personal Portfolio. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button id="backToTop" class="fixed bottom-8 right-8 bg-primary-500 dark:bg-magenta-500 text-white p-3 rounded-full shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary-600 dark:hover:bg-magenta-700">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- JavaScript -->
    <script src="/js/theme.js"></script>
    <script src="/js/language.js" defer></script>
    <script src="/js/navigation.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/tilt.js"></script>
    
</body>
</html>